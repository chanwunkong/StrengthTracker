<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>力量成長曲線</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1200px;
            margin: auto;
            padding: 10px;
            font-size: 14px;
        }

        header {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            margin-bottom: 10px;
        }

        main {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
        }

        /* 上半區域：兩個控制區 */
        .section {
            flex: 1 1 360px;
            /* 控制區縮小 */
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 8px;
            background-color: #f9f9f9;
        }

        /* 下半區域：結果顯示佔滿整行 */
        .section.chart-section {
            flex: 1 1 100%;
            /* 讓圖表區撐滿一整行 */
        }

        .section h3 {
            margin-bottom: 10px;
            border-bottom: 1px solid #ddd;
            padding-bottom: 3px;
            font-size: 16px;
        }

        .section label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }

        .section input,
        .section select {
            width: 100%;
            padding: 4px;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .radio-group {
            display: flex;
            align-items: center;
            flex-wrap: wrap;
            gap: 5px;
        }

        .radio-option {
            display: flex;
            align-items: center;
            gap: 5px;
            white-space: nowrap;
            padding: 2px 5px;
            font-size: 14px;
        }

        .radio-option input[type="radio"] {
            cursor: pointer;
        }

        .radio-option label {
            cursor: pointer;
            margin: 0;
        }

        .slider-group {
            margin-bottom: 10px;
        }

        .slider-label {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 14px;
        }

        .slider-label span {
            min-width: 50px;
            text-align: right;
        }

        .slider-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .slider-control input[type="range"] {
            width: 70%;
        }

        .slider-control button {
            width: 24px;
            height: 24px;
            font-size: 14px;
            cursor: pointer;
        }

        .chart-container {
            margin-top: 20px;
        }

        #chart {
            width: 100%;
            height: 500px;
        }

        h2 {
            text-align: center;
            margin-bottom: 20px;
            font-size: 20px;
        }
    </style>


</head>

<body>

    <h2 id="title">力量成長曲線</h2>

    <header>
        <div>
            <label for="languageSelect">Language / 語言:</label>
            <select id="languageSelect" onchange="updateLanguage(); updateChart()">
                <option value="zh">中文</option>
                <option value="en">English</option>
            </select>
        </div>
        <div>
            <label for="unitSelect">單位 / Unit:</label>
            <select id="unitSelect" onchange="updateChart()">
                <option value="kg">公斤 (kg)</option>
                <option value="lb">磅 (lb)</option>
            </select>
        </div>
    </header>

    <main>

        <div>
            <!-- 基本控制區 -->
            <div class="section">
                <h3>基本設定</h3>

                <div class="slider-group">
                    <label>選擇性別:</label>
                    <div class="radio-group">
                        <div class="radio-option">
                            <input type="radio" id="male" name="gender" value="male" checked
                                onchange="setDefaultWeight(); updateChart()">
                            <label for="male">男性</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="female" name="gender" value="female"
                                onchange="setDefaultWeight(); updateChart()">
                            <label for="female">女性</label>
                        </div>
                    </div>
                </div>

                <div class="slider-group">
                    <label>選擇動作:</label>
                    <div class="radio-group" id="movementRadioGroup">
                        <div class="radio-option">
                            <input type="radio" id="press" name="movement" value="Press" checked
                                onchange="updateChart()">
                            <label for="press">肩推</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="benchPress" name="movement" value="Bench Press"
                                onchange="updateChart()">
                            <label for="benchPress">臥推</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="squat" name="movement" value="Squat" onchange="updateChart()">
                            <label for="squat">深蹲</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="deadlift" name="movement" value="Deadlift" onchange="updateChart()">
                            <label for="deadlift">硬舉</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="powerClean" name="movement" value="Power Clean"
                                onchange="updateChart()">
                            <label for="powerClean">抓舉</label>
                        </div>
                    </div>
                </div>


                <div class="slider-group">
                    <div class="slider-label">
                        <label for="xMaxRange">X 軸最大值 (月):</label>
                        <span id="xMaxDisplay">60 月</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('xMaxRange', -1)">-</button>
                        <input type="range" id="xMaxRange" min="12" max="150" value="60" step="1"
                            oninput="updateChart()">
                        <button onclick="adjustSlider('xMaxRange', 1)">+</button>
                    </div>
                </div>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="yMaxRange">Y 軸最大值:</label>
                        <span id="yMaxDisplay">200 kg</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('yMaxRange', -10)">-</button>
                        <input type="range" id="yMaxRange" min="50" max="500" value="200" step="10"
                            oninput="updateChart()">
                        <button onclick="adjustSlider('yMaxRange', 10)">+</button>
                    </div>
                </div>
            </div>

            <!-- 個人資料輸入 -->
            <div class="section">
                <h3>個人資料輸入</h3>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="userWeight">您的體重:</label>
                        <span><span id="userWeightValue">70</span> <span id="userWeightUnit">kg</span></span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('userWeight', -1)">-</button>
                        <input type="range" id="userWeight" min="30" max="150" value="70" step="1"
                            oninput="updateUserWeight(this.value)">
                        <button onclick="adjustSlider('userWeight', 1)">+</button>
                    </div>
                </div>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="userRM">您的 RM (次數):</label>
                        <span id="userRMValue">5</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('userRM', -1)">-</button>
                        <input type="range" id="userRM" min="1" max="15" value="5" step="1"
                            oninput="updateUserRM(this.value)">
                        <button onclick="adjustSlider('userRM', 1)">+</button>
                    </div>
                </div>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="userStrength">您該 RM 的重量:</label>
                        <span><span id="userStrengthValue">0</span> <span id="userStrengthUnit">kg</span></span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('userStrength', -1)">-</button>
                        <input type="range" id="userStrength" min="0" max="300" value="0" step="1"
                            oninput="updateUserStrength(this.value)">
                        <button onclick="adjustSlider('userStrength', 1)">+</button>
                    </div>
                </div>

                <h4 id="oneRMDisplay">預估 1RM：<span id="oneRMValue">0</span> <span id="oneRMUnit">kg</span></h4>
            </div>

            <!-- Casey Butt 最大肌肉潛力計算器 -->
            <div class="section">
                <h3>Casey Butt 最大肌肉潛力計算器</h3>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="heightInput">身高 (cm):</label>
                        <span id="heightDisplay">170 cm</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('heightInput', -1)">-</button>
                        <input type="range" id="heightInput" min="140" max="220" value="170" step="1"
                            oninput="updateHeight(this.value)">
                        <button onclick="adjustSlider('heightInput', 1)">+</button>
                    </div>
                </div>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="wristInput">手腕圍 (cm):</label>
                        <span id="wristDisplay">16 cm</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('wristInput', -0.1)">-</button>
                        <input type="range" id="wristInput" min="12" max="24" value="16" step="0.1"
                            oninput="updateWrist(this.value)">
                        <button onclick="adjustSlider('wristInput', 0.1)">+</button>
                    </div>
                </div>

                <div class="slider-group">
                    <div class="slider-label">
                        <label for="ankleInput">腳踝圍 (cm):</label>
                        <span id="ankleDisplay">21 cm</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('ankleInput', -0.1)">-</button>
                        <input type="range" id="ankleInput" min="15" max="30" value="21" step="0.1"
                            oninput="updateAnkle(this.value)">
                        <button onclick="adjustSlider('ankleInput', 0.1)">+</button>
                    </div>
                </div>



                <div class="slider-group">
                    <div class="slider-label">
                        <label for="targetBodyFatInput">目標體脂率 (%):</label>
                        <span id="targetBodyFatDisplay">20 %</span>
                    </div>
                    <div class="slider-control">
                        <button onclick="adjustSlider('targetBodyFatInput', -1)">-</button>
                        <input type="range" id="targetBodyFatInput" min="5" max="30" value="10" step="1"
                            oninput="updateTargetBodyFat(this.value)">
                        <button onclick="adjustSlider('targetBodyFatInput', 1)">+</button>
                    </div>
                </div>

                <h4>理論最大無脂體重：<span id="maxLeanMass">0</span> kg</h4>
                <h4>理論最大體重：<span id="maxBodyWeight">0</span> kg</h4>
                <h4>95% 現實可達無脂體重：<span id="realisticLeanMass">0</span> kg</h4>
                <h4>95% 現實可達體重：<span id="realisticBodyWeight">0</span> kg</h4>

                <!-- <div class="chart-container">
                    <div id="stackedBarChart"></div>
                </div> -->


            </div>

        </div>


        <!-- 結果顯示 -->
        <div class="section">
            <h3>結果顯示</h3>
            <div class="chart-container">
                <div id="chart"></div>
            </div>
        </div>
    </main>

    <script>
        function adjustSlider(sliderId, step) {
            const slider = document.getElementById(sliderId);
            let newValue = parseFloat(slider.value) + step;

            if (newValue >= parseFloat(slider.min) && newValue <= parseFloat(slider.max)) {
                slider.value = newValue;

                if (sliderId === 'xMaxRange' || sliderId === 'yMaxRange') {
                    document.getElementById(sliderId).dispatchEvent(new Event('input'));
                } else if (sliderId === 'userWeight') {
                    updateUserWeight(newValue);
                } else if (sliderId === 'userRM') {
                    updateUserRM(newValue);
                } else if (sliderId === 'userStrength') {
                    updateUserStrength(newValue);
                } else if (sliderId === 'heightInput') {
                    updateHeight(newValue);
                } else if (sliderId === 'wristInput') {
                    updateWrist(newValue);
                } else if (sliderId === 'ankleInput') {
                    updateAnkle(newValue);
                }
                else if (sliderId === 'targetBodyFatInput') {
                    updateTargetBodyFat(newValue);
                }
            }
        }


        function calculateCaseyButtMax(H, W, A) {
            let userWeight = parseFloat(document.getElementById('userWeight').value);
            let M = Math.pow(H, 1.5) * (Math.sqrt(W) / 322.4 + Math.sqrt(A) / 241.9) * (userWeight / 224 + 1);
            let realisticM = M * 0.95;
            return { max: M.toFixed(1), realistic: realisticM.toFixed(1) };
        }


        function updateHeight(value) {
            document.getElementById('heightDisplay').innerText = value + ' cm';
            updateCaseyButtResult();
        }

        function updateWrist(value) {
            document.getElementById('wristDisplay').innerText = parseFloat(value).toFixed(1) + ' cm';
            updateCaseyButtResult();
        }

        function updateAnkle(value) {
            document.getElementById('ankleDisplay').innerText = parseFloat(value).toFixed(1) + ' cm';
            updateCaseyButtResult();
        }

        function updateTargetBodyFat(value) {
            document.getElementById('targetBodyFatDisplay').innerText = value + ' %';
            updateCaseyButtResult();
        }


        function updateCaseyButtResult() {
            let H = parseInt(document.getElementById('heightInput').value);
            let W = parseFloat(document.getElementById('wristInput').value);
            let A = parseFloat(document.getElementById('ankleInput').value);
            let targetBodyFat = parseFloat(document.getElementById('targetBodyFatInput').value) / 100;

            let result = calculateCaseyButtMax(H, W, A);

            document.getElementById('maxLeanMass').innerText = result.max;
            document.getElementById('realisticLeanMass').innerText = result.realistic;

            // 計算總體重
            let maxBodyWeight = parseFloat(result.max) / (1 - targetBodyFat);
            let realisticBodyWeight = parseFloat(result.realistic) / (1 - targetBodyFat);

            document.getElementById('maxBodyWeight').innerText = maxBodyWeight.toFixed(1);
            document.getElementById('realisticBodyWeight').innerText = realisticBodyWeight.toFixed(1);

            // 計算脂肪重量
            let maxFatMass = maxBodyWeight - parseFloat(result.max);
            let realisticFatMass = realisticBodyWeight - parseFloat(result.realistic);

            // 繪製堆疊式長條圖
            let data = [
                {
                    y: ['理論最大體重'],
                    x: [parseFloat(result.max)],
                    name: '去脂體重',
                    type: 'bar',
                    orientation: 'h',
                    marker: { color: 'green' },
                    text: [parseFloat(result.max).toFixed(1) + ' kg'],
                    textposition: 'inside'
                },
                {
                    y: ['理論最大體重'],
                    x: [maxFatMass],
                    name: '脂肪重量',
                    type: 'bar',
                    orientation: 'h',
                    marker: { color: 'orange' },
                    text: [maxFatMass.toFixed(1) + ' kg'],
                    textposition: 'inside'
                },
                {
                    y: ['95% 現實可達體重'],
                    x: [parseFloat(result.realistic)],
                    name: '去脂體重',
                    type: 'bar',
                    orientation: 'h',
                    marker: { color: 'blue' },
                    text: [parseFloat(result.realistic).toFixed(1) + ' kg'],
                    textposition: 'inside'
                },
                {
                    y: ['95% 現實可達體重'],
                    x: [realisticFatMass],
                    name: '脂肪重量',
                    type: 'bar',
                    orientation: 'h',
                    marker: { color: 'orange' },
                    text: [realisticFatMass.toFixed(1) + ' kg'],
                    textposition: 'inside'
                }
            ];

            let layout = {
                title: '理論最大體重與脂肪比例',
                barmode: 'stack',
                xaxis: { title: '體重 (kg)', range: [0, Math.ceil(maxBodyWeight * 1.1)] },
                height: 400
            };

            Plotly.newPlot('stackedBarChart', data, layout);
        }

        let language = 'zh';
        let unit = 'kg';

        const movementParams = {
            "male": {
                "Press": { a: 0.143081, s: -0.006382, t_b: 1.175420, p: -10.000000, q: 0.000139, r: 0.523168 },
                "Bench Press": { a: 0.313917, s: -0.002640, t_b: 0.483858, p: -0.542333, q: 0.008190, r: 0.885181 },
                "Squat": { a: 0.542238, s: -0.004639, t_b: 0.839241, p: 0.094006, q: 1.000000, r: 0.207660 },
                "Deadlift": { a: 0.616152, s: -0.004511, t_b: 0.793862, p: -10.000000, q: 0.000214, r: 0.927825 },
                "Power Clean": { a: 0.272927, s: -0.006954, t_b: 1.241554, p: -0.831159, q: 0.002697, r: 0.608000 }
            },
            "female": {
                "Press": { a: 1.060079656, s: -0.00000479555, t_b: 0.016407532, p: -9.999999936, q: 0.0000283981, r: 0.344401136 },
                "Bench Press": { a: 1.156197656, s: -0.0000694985, t_b: 0.022878292, p: -9.999999992, q: 0.000181857, r: 0.591675884 },
                "Squat": { a: 0.518626596, s: -0.000598282, t_b: 0.193108691, p: -9.999999999, q: 0.000101625, r: 0.53494326 },
                "Deadlift": { a: 1.107697795, s: -0.000438779, t_b: 0.096978515, p: -9.999999985, q: 0.000191939, r: 0.685331933 },
                "Power Clean": { a: 0.372718555, s: -0.000882204, t_b: 0.208095481, p: -9.999999796, q: 0.000073921, r: 0.384703321 }
            }
        };

        function calculateAbsoluteStrength(t, w, params) {
            const ratio = params.a * Math.log((params.s * w + params.t_b) * t + 1) + (params.p * Math.log(params.q * w + 1) + params.r);
            return ratio * w;
        }

        function calculateOneRM(weight, reps) {
            return weight / (1.0278 - 0.0278 * reps);
        }

        function setDefaultWeight() {
            const gender = document.querySelector('input[name="gender"]:checked').value;
            const userWeight = document.getElementById('userWeight');

            if (gender === 'male') {
                userWeight.value = 70;
                document.getElementById('userWeightValue').innerText = 70;
            } else {
                userWeight.value = 55;
                document.getElementById('userWeightValue').innerText = 55;
            }
            updateChart();
        }

        function updateUserWeight(value) {
            document.getElementById('userWeightValue').innerText = value;
            updateCaseyButtResult();
            updateChart();
        }

        function updateUserRM(value) {
            document.getElementById('userRMValue').innerText = value;
            updateChart();
        }

        function updateUserStrength(value) {
            document.getElementById('userStrengthValue').innerText = value;
            updateChart();
        }

        function updateChart() {
            language = document.getElementById('languageSelect').value;
            unit = document.getElementById('unitSelect').value;

            const gender = document.querySelector('input[name="gender"]:checked').value;
            const movement = document.querySelector('input[name="movement"]:checked').value;
            const params = movementParams[gender][movement];

            let weight = parseInt(document.getElementById('userWeight').value);


            let xMax = parseInt(document.getElementById('xMaxRange').value);
            let yMax = parseInt(document.getElementById('yMaxRange').value);

            let userWeight = parseInt(document.getElementById('userWeight').value);
            let userRM = parseInt(document.getElementById('userRM').value);
            let userStrengthInput = parseFloat(document.getElementById('userStrength').value);

            if (unit === 'lb') {
                document.getElementById('userWeightUnit').innerText = 'lb';
                document.getElementById('userStrengthUnit').innerText = 'lb';
            } else {
                document.getElementById('userWeightUnit').innerText = 'kg';
                document.getElementById('userStrengthUnit').innerText = 'kg';
            }

            document.getElementById('xMaxDisplay').innerText = xMax + (language === 'zh' ? ' 月' : ' months');
            document.getElementById('yMaxDisplay').innerText = yMax + ' ' + unit;

            let xData = [];
            let yData = [];

            for (let t = 0; t <= xMax; t++) {
                let strength = calculateAbsoluteStrength(t, weight, params);
                if (unit === 'lb') strength *= 2.20462;
                xData.push(t);
                yData.push(Math.round(strength));
            }

            const trace = {
                x: xData,
                y: yData,
                type: 'scatter',
                mode: 'lines+markers',
                name: getMovementName(movement)
            };

            let userTrace = null;

            if (!isNaN(userStrengthInput) && userStrengthInput > 0 && !isNaN(userRM) && userRM > 0) {
                let weightInKg = unit === 'lb' ? userStrengthInput / 2.20462 : userStrengthInput;
                let estimatedOneRM = calculateOneRM(weightInKg, userRM);
                let displayOneRM = Math.round(unit === 'lb' ? estimatedOneRM * 2.20462 : estimatedOneRM);

                document.getElementById('oneRMValue').innerText = displayOneRM;
                document.getElementById('oneRMUnit').innerText = unit;

                let closestIndex = 0;
                let minDiff = Infinity;

                for (let i = 0; i < yData.length; i++) {
                    let diff = Math.abs(yData[i] - displayOneRM);
                    if (diff < minDiff) {
                        minDiff = diff;
                        closestIndex = i;
                    }
                }

                userTrace = {
                    x: [xData[closestIndex]],
                    y: [yData[closestIndex]],
                    mode: 'markers+text',
                    marker: { size: 12, color: 'blue' },
                    text: ['1RM'],
                    textposition: 'top center',
                    name: language === 'zh' ? '您的 1RM 位置' : 'Your 1RM'
                };
            } else {
                document.getElementById('oneRMValue').innerText = 0;
                document.getElementById('oneRMUnit').innerText = unit;
            }

            const layout = {
                title: getChartTitle(weight, movement, gender),
                xaxis: { title: language === 'zh' ? '訓練時間（月）' : 'Training Time (Months)', range: [0, xMax] },
                yaxis: { title: language === 'zh' ? '絕對力量 (' + unit + ')' : 'Absolute Strength (' + unit + ')', range: [0, yMax] },
                shapes: [
                    { type: 'line', x0: 6, y0: 0, x1: 6, y1: yMax, line: { color: 'red', dash: 'dot' } },
                    { type: 'line', x0: 12, y0: 0, x1: 12, y1: yMax, line: { color: 'red', dash: 'dot' } },
                    { type: 'line', x0: 24, y0: 0, x1: 24, y1: yMax, line: { color: 'red', dash: 'dot' } },
                    { type: 'line', x0: 60, y0: 0, x1: 60, y1: yMax, line: { color: 'red', dash: 'dot' } }
                ],
                annotations: [
                    { x: 6, y: 0, text: language === 'zh' ? '新手' : 'Beginner', showarrow: false, font: { color: 'red' }, yshift: -20 },
                    { x: 12, y: 0, text: language === 'zh' ? '中級' : 'Novice', showarrow: false, font: { color: 'red' }, yshift: -20 },
                    { x: 24, y: 0, text: language === 'zh' ? '高級' : 'Intermediate', showarrow: false, font: { color: 'red' }, yshift: -20 },
                    { x: 60, y: 0, text: language === 'zh' ? '精英' : 'Elite', showarrow: false, font: { color: 'red' }, yshift: -20 }
                ]
            };

            if (userTrace) {
                Plotly.newPlot('chart', [trace, userTrace], layout);
            } else {
                Plotly.newPlot('chart', [trace], layout);
            }
        }

        function getChartTitle(weight, movement, gender) {
            let genderText = (language === 'zh') ? (gender === 'male' ? '男性' : '女性') : (gender === 'male' ? 'Male' : 'Female');
            let movementName = getMovementName(movement);
            let weightDisplay = unit === 'lb' ? Math.round(weight * 2.20462) + ' lb' : weight + ' kg';
            return language === 'zh' ?
                '體重 ' + weightDisplay + ' 的 ' + movementName + ' 力量成長曲線 (' + genderText + ')' :
                movementName + ' Strength Progression (' + genderText + ', ' + weightDisplay + ')';
        }

        function getMovementName(movement) {
            const names = {
                'Press': language === 'zh' ? '肩推' : 'Press',
                'Bench Press': language === 'zh' ? '臥推' : 'Bench Press',
                'Squat': language === 'zh' ? '深蹲' : 'Squat',
                'Deadlift': language === 'zh' ? '硬舉' : 'Deadlift',
                'Power Clean': language === 'zh' ? '抓舉' : 'Power Clean'
            };
            return names[movement];
        }

        setDefaultWeight();
        updateChart();

        const labels = {
            zh: {
                gender: '選擇性別:',
                male: '男性',
                female: '女性',
                movement: '選擇動作:',
                press: '肩推',
                benchPress: '臥推',
                squat: '深蹲',
                deadlift: '硬舉',
                powerClean: '抓舉',
                bodyWeight: '選擇體重:',
                xAxis: 'X 軸最大值 (月):',
                yAxis: 'Y 軸最大值:',
                userBodyWeight: '您的體重:',
                userRM: '您的 RM (次數):',
                userStrength: '您該 RM 的重量:',
                estimated1RM: '預估 1RM：',
                chartTitle: '力量成長曲線',
                beginner: '新手',
                novice: '中級',
                intermediate: '高級',
                elite: '精英'
            },
            en: {
                gender: 'Select Gender:',
                male: 'Male',
                female: 'Female',
                movement: 'Select Movement:',
                press: 'Press',
                benchPress: 'Bench Press',
                squat: 'Squat',
                deadlift: 'Deadlift',
                powerClean: 'Power Clean',
                bodyWeight: 'Body Weight:',
                xAxis: 'X Axis Max (Months):',
                yAxis: 'Y Axis Max:',
                userBodyWeight: 'Your Body Weight:',
                userRM: 'Your RM (Reps):',
                userStrength: 'Weight for Your RM:',
                estimated1RM: 'Estimated 1RM:',
                chartTitle: 'Strength Progression Chart',
                beginner: 'Beginner',
                novice: 'Novice',
                intermediate: 'Intermediate',
                elite: 'Elite'
            }
        };

        function updateLanguage() {
            language = document.getElementById('languageSelect').value; // 加這一行

            document.getElementById('title').innerText = labels[language].chartTitle;
            document.querySelector('label[for="male"]').innerText = labels[language].male;
            document.querySelector('label[for="female"]').innerText = labels[language].female;
            document.querySelector('.radio-group').previousElementSibling.innerText = labels[language].gender;
            document.querySelector('label[for="movementSelect"]').innerText = labels[language].movement;
            document.querySelector('label[for="press"]').innerText = labels[language]['press'];
            document.querySelector('label[for="benchPress"]').innerText = labels[language]['benchPress'];
            document.querySelector('label[for="squat"]').innerText = labels[language]['squat'];
            document.querySelector('label[for="deadlift"]').innerText = labels[language]['deadlift'];
            document.querySelector('label[for="powerClean"]').innerText = labels[language]['powerClean'];
            document.querySelector('label[for="xMaxRange"]').innerText = labels[language].xAxis;
            document.querySelector('label[for="yMaxRange"]').innerText = labels[language].yAxis;
            document.querySelector('label[for="userWeight"]').innerText = labels[language].userBodyWeight;
            document.querySelector('label[for="userRM"]').innerText = labels[language].userRM;
            document.querySelector('label[for="userStrength"]').innerText = labels[language].userStrength;
            document.getElementById('oneRMDisplay').childNodes[0].nodeValue = labels[language].estimated1RM + ' ';
        }

    </script>

</body>

</html>